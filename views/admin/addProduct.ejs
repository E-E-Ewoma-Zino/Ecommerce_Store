<%- include("../partials/admin/_head") %>


	<div class="container-scroller">
		<!-- nav -->
		<%- include("../partials/admin/_header") %>

			<div class="container-fluid page-body-wrapper">

				<!-- sidebar -->
				<%- include("../partials/admin/_sidebar") %>

					<!-- partial main-->
					<div class="main-panel">
						<div class="content-wrapper">
							<div class="row">
								<div class="col-md-12 grid-margin">
									<div class="d-flex justify-content-between align-items-center">
										<div>
											<h4 class="font-weight-bold mb-0">Add New Product</h4>
										</div>
										<div>
											<a href="/admin/products" class="btn btn-primary btn-icon-text btn-rounded">
												<i class="ti-arrow-left btn-icon-prepend"></i>Back
											</a>
										</div>
									</div>
								</div>
							</div>
							<form class="forms-sample" action="/admin/addProduct" method="POST"
								enctype="multipart/form-data">
								<div class="row">
									<div class="col-md-6 grid-margin stretch-card">
										<div class="card">
											<div class="card-body">
												<h4 class="card-title">Naming</h4>
												<p class="card-description">
													Give your product a nameing
												</p>
												<!--  -->
												<div class="form-group">
													<label for="exampleInputName1">Product Name</label>
													<input type="text" name="name" class="form-control"
														placeholder="Product Name" required>
												</div>
												<div class="form-group">
													<label for="exampleInputName1">Brand Name</label>
													<input type="text" name="brand" class="form-control"
														placeholder="Brand Name" required>
												</div>
												<!--  -->
											</div>
										</div>
									</div>
									<div class="col-md-6 grid-margin stretch-card">
										<div class="card">
											<div class="card-body">
												<h4 class="card-title">Pricing</h4>
												<p class="card-description">
													Set a value and quantity for your product
												</p>
												<!--  -->
												<div class="form-group">
													<label for="exampleInputName1">Price</label>
													<input type="text" name="price" class="form-control"
														placeholder="Price" required>
												</div>
												<div class="form-group">
													<label for="exampleInputName1">Total Avalable Products</label>
													<input type="number" name="totalNo" class="form-control"
														placeholder="Total Product" required>
												</div>

												<!--  -->
											</div>
										</div>
									</div>
									<div class="col-md-6 grid-margin stretch-card">
										<div class="card">
											<div class="card-body">
												<h4 class="card-title">Description</h4>
												<p class="card-description">
													Describe your product here
												</p>
												<!--  -->
												<div class="form-group">
													<label for="exampleInputName1">Color</label>
													<input type="text" name="color" class="form-control"
														placeholder="Product Color" required>
												</div>

												<div class="form-group">
													<label>Choose one or more images for your product</label>
													<div class="input-group col-xs-12">
														<input class="form-control" multiple="multiple" accept="image/*"
															name="img" type="file" placeholder="Product image" required>
													</div>
												</div>
												<div class="form-group">
													<label for="exampleTextarea1">Description</label>
													<textarea name="description" class="form-control"
														id="exampleTextarea1" rows="7"></textarea>
												</div>
												<!-- This input takes the value for the product category -->
												<input type="hidden" id="category" name="category" value="">
												<!--  -->
												<button type="submit" class="btn btn-primary mr-2">Submit</button>
												<a href="/admin/products" class="btn btn-light">Cancel</a>
											</div>
										</div>
									</div>
							</form>

							<div class="col-md-6 grid-margin stretch-card">
								<div class="card">
									<div class="card-body">
										<h4 class="card-title">Category</h4>
										<p class="card-description">
											Categorise your product as a parent or as a child
										</p>
										<!--  -->
										<div class="scroll">
											<div class="form-group">
												<label for="exampleFormControlSelect2">Assign your product a
													category</label>

												<ul class="list-group">
													<% category.forEach(list=> { %>
														<li
															class="children list-group-item list-group-item-action d-flex justify-content-between align-items-center">
															<div class="">
																<input type="checkbox" id="<%= list._id %>" />
																<%# list.parents[0] %>
																	-> <%= list.name %>
															</div>
															<input type="hidden" name="id" value="<%= list._id %>">
															<input type="hidden" name="id" value="<%= list.name %>">
															<span class="badge badge-primary badge-pill">
																<%= list.products.length %>
															</span>
														</li>
														<% }); %>
												</ul>
											</div>
										</div>
										<hr>
										<div class="form-group">
											<label for="exampleInputName1">Create New Category</label>
											<input type="text" id="newCategory" name="name" class="form-control list-group-item"
												placeholder="Add Category">
											<input type="hidden" id="inputParentId" name="parent" value="">
											<input type="text" id="inputParentName" class="form-control list-group-item"
												placeholder="Add Parent (only if it is a subcategory)" onclick="modal()"
												value="" readonly>
											<%- include("../components/parent") %>
										</div>
										<button type="submit" class="btn btn-primary ml-2 float-right" onclick="createNewCategory()">Create New
											Category</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- content-wrapper ends -->
					<%- include("../partials/admin/_footer") %>
						<%- include("../components/messageBird") %>
			</div>
			<!-- main-panel ends -->
	</div>

	<!-- page-body-wrapper ends -->
	</div>

	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script src="/royalUI/js/category.js"></script>
	<%- include("../partials/admin/_scripts") %>